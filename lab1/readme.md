**高级计算机系统架构：GPU异构计算实践**

**作业 1：数组求和-无原子的解决方案**
截止日期：2024年11月26日，星期三 - 上午10:00

**提交：**
用开发者账号登录沐曦算子竞赛平台(https://operator.metax-tech.com/)，上传修改后的项目工程，参加竞赛排名。

=================================================================================
**题目描述：数组求和-无原子的解决方案**
=================================================================================
《MXMACA开启的GPU编程-进阶篇》“第7章 原子操作”里数组求和例子(https://gitee.com/Inkstoneydz/mxmaca-courses-zju/tree/master/demo/07_atomic)。其实数组求和也可以不需要原子操作，先用GPU先把数据尺寸缩减到CPU可以接受的范围内，然后让CPU完成的思路。具体方法如下：
1）首先，声明 sum 为比原数组小 1024 倍的数组。
2）然后在 GPU 上启动 n / 1024 个线程，每个负责原数组中 1024 个数的求和，然后写入到 sum 的对应元素中去。
（因为每个线程都写入了不同的地址，所以不存在任何冲突，也不需要原子操作了。）
3）最后求出的大小为 n / 1024 的数组，已经足够小了，可以直接在 CPU 上完成最终的求和。

main.cpp的文件里的“parallel_sum_V1”基于上述方法已经实现了一个简单的核函数。请根据parallel_sum_V2/V3/V4/V5/V6/V7的注释和提示，尝试进行更多更深入的优化。

参考资料：《沐曦异构并行计算软件栈--MXMACA C/C++程序设计入门教程》的第8.3.4小节“适配GPU的硬件行为”/“图 8-17 三种常用的规约操作方法的实现思路（以处理 8 个元素为例）”